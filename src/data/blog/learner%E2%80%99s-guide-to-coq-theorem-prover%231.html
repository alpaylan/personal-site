<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Learner’s Guide to Coq Theorem Prover#1</title></head><body><article class="h-entry">

<section data-field="body" class="e-content">
<section name="88bb" class="section section--body section--first section--last"><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="2f61" id="2f61" class="graf graf--h3 graf--leading graf--title">Learner’s Guide to Coq Theorem Prover#1</h3><p name="16f6" id="16f6" class="graf graf--p graf-after--h3">Before I begin, I must state that I am pretty much not qualified to write about theorem proving in Coq, but that was pretty much the idea behind Learning From Learners, so I decided to try anyway.</p><figure name="616c" id="616c" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*dugdANnZXpIZV9h4d6y3ag.png" data-width="618" data-height="242" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*dugdANnZXpIZV9h4d6y3ag.png"><figcaption class="imageCaption"><a href="https://xkcd.com/1856/" data-href="https://xkcd.com/1856/" class="markup--anchor markup--figure-anchor" rel="noopener" target="_blank">https://xkcd.com/1856/</a></figcaption></figure><p name="c77f" id="c77f" class="graf graf--p graf-after--figure">If you want a more comprehensive lecture style interactive book, go with a classic, <a href="https://softwarefoundations.cis.upenn.edu" data-href="https://softwarefoundations.cis.upenn.edu" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Software Foundations</a>; if you wanna have your mind blown by dependent types, go with <a href="http://adam.chlipala.net/cpdt/" data-href="http://adam.chlipala.net/cpdt/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">CPDT</a>; if you were as confused as I was when you hear about dependent types, I may be a good starting point to show you “How to Start Playing Around With Coq”.</p><p name="7f45" id="7f45" class="graf graf--p graf-after--p">So, what is Coq? According to <a href="https://en.wikipedia.org/wiki/Coq" data-href="https://en.wikipedia.org/wiki/Coq" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Wikipedia</a>:</p><blockquote name="69d1" id="69d1" class="graf graf--blockquote graf--startsWithDoubleQuote graf-after--p">“<strong class="markup--strong markup--blockquote-strong">Coq</strong> is an <a href="https://en.wikipedia.org/wiki/Proof_assistant" data-href="https://en.wikipedia.org/wiki/Proof_assistant" class="markup--anchor markup--blockquote-anchor" title="Proof assistant" rel="noopener" target="_blank">interactive theorem prover</a> first released in 1989. It allows for expressing <a href="https://en.wikipedia.org/wiki/Mathematics" data-href="https://en.wikipedia.org/wiki/Mathematics" class="markup--anchor markup--blockquote-anchor" title="Mathematics" rel="noopener" target="_blank">mathematical</a> assertions, mechanically checks proofs of these assertions, helps find formal proofs, and extracts a certified program from the <a href="https://en.wikipedia.org/wiki/Constructive_proof" data-href="https://en.wikipedia.org/wiki/Constructive_proof" class="markup--anchor markup--blockquote-anchor" title="Constructive proof" rel="noopener" target="_blank">constructive proof</a> of its <a href="https://en.wikipedia.org/wiki/Formal_specification" data-href="https://en.wikipedia.org/wiki/Formal_specification" class="markup--anchor markup--blockquote-anchor" title="Formal specification" rel="noopener" target="_blank">formal specification</a>”.</blockquote><p name="9f89" id="9f89" class="graf graf--p graf-after--blockquote">What is Coq? I hear you asking again. Simply put, it’s a programming system that allows you to prove your programs. You can write theorems about your code which then you can prove. It’s like testing, but without the testing part, and it actually works.</p><p name="6b23" id="6b23" class="graf graf--p graf-after--p">Let’s see the Hello World example for Coq.</p><figure name="281f" id="281f" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/alpaylan/54cd1482e242e15283bf1c351cbe8cdc.js"></script></figure><p name="b95d" id="b95d" class="graf graf--p graf-after--figure">Let’s break this down. <code class="markup--code markup--p-code">bool</code> is your old classic <code class="markup--code markup--p-code">true</code> and <code class="markup--code markup--p-code">false</code>. <code class="markup--code markup--p-code">negb</code> is “Negate-Bool”. <code class="markup--code markup--p-code">negb_involutive</code> is the interesting part.</p><p name="e5ce" id="e5ce" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">\forall b: bool, negb(negb b) = b</code> is our first theorem. We can actually easily check it for each both <code class="markup--code markup--p-code">true</code> and <code class="markup--code markup--p-code">false</code> to see that it is true.</p><p name="7d87" id="7d87" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">b=true: negb(negb true) = negb false = true</code></p><p name="34c5" id="34c5" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">b=false: negb(negb false) = negb true = false</code></p><p name="0f77" id="0f77" class="graf graf--p graf-after--p">In fact, the proof is exactly the same. Of course, to understand that, you need to understand what is going on.</p><p name="897f" id="897f" class="graf graf--p graf-after--p">When Coq sees the “Vernacular” <code class="markup--code markup--p-code">Theorem</code>, it expects a proof of the theorem after its definition. Proofs conventionally start with the <code class="markup--code markup--p-code">Proof</code> vernacular, denoting the beginning of the proof for documentation. The proof we see above is a sequence of “Tactics”, which are basically building blocks for your proof. They hide the complexity of Coq “Proof Terms”, and allow you to see your proof as a set of instructions.</p><p name="94fd" id="94fd" class="graf graf--p graf-after--p">Let me try to give a <strong class="markup--strong markup--p-strong">quick</strong> explanation of that paragraph.</p><p name="39f4" id="39f4" class="graf graf--p graf-after--p">A Coq program does not have a special proof mode. It is just a program. The difference is, it has dependent types. These are types that depend on values. They allow you to write your types as theorems. So, <code class="markup--code markup--p-code">\forall b: bool, negb(negb b) = b</code> is the type of <code class="markup--code markup--p-code">negb_involutive</code> . What do programs written in statically-typed languages do? They type-check.</p><p name="5f5b" id="5f5b" class="graf graf--p graf-after--p">So, when you have a definition that has a theorem as its type, you are supposed to write its proof, which would be the code that will allow the function to type-check correctly. It is not much different than the fact that we need a function returning integer to return an integer. <strong class="markup--strong markup--p-strong">(Kidding)</strong></p><p name="c2e7" id="c2e7" class="graf graf--p graf-after--p">This phenomenon of “types are theorems, programs are proofs” arises from <a href="https://en.wikipedia.org/wiki/Curry–Howard_correspondence" data-href="https://en.wikipedia.org/wiki/Curry–Howard_correspondence" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Curry-Howard Correspondence</a> for anyone curious to go more into detail.</p><p name="4ae7" id="4ae7" class="graf graf--p graf-after--p"><em class="markup--em markup--p-em">For the Javascript people, Tactics are like JSX elements hiding the HTML/CSS/Js behind.</em></p><p name="8135" id="8135" class="graf graf--p graf-after--p">A Vernacular is a top-level statement to tell Coq program is going to behave in a certain way. There are many different vernaculars, <code class="markup--code markup--p-code">Inductive, Definition, Proof</code> are three examples we have on the small piece of code.</p><p name="5d78" id="5d78" class="graf graf--p graf-after--p">Now, we can go inside the proof.</p><pre data-code-block-mode="0" spellcheck="false" name="6be9" id="6be9" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">Proof.<br>intros b. <br>destruct b eqn:E.<br>- reflexivity.<br>- reflexivity.<br>Qed.</span></pre><ul class="postList"><li name="6248" id="6248" class="graf graf--li graf-after--pre"><code class="markup--code markup--li-code">Proof</code> is used to denote the start of sequence of tactics.</li><li name="1920" id="1920" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">intros b</code> turns <code class="markup--code markup--li-code">\forall b</code> into <code class="markup--code markup--li-code">b</code> in order to operate on the variable.</li><li name="55a2" id="55a2" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">destruct b eqn:E</code> is “Proof by Cases”. Remember, <code class="markup--code markup--li-code">Inductive bool</code> had two “constructors/members”, <code class="markup--code markup--li-code">true</code> and <code class="markup--code markup--li-code">false</code>. Hence, destructing b gives you two cases, <code class="markup--code markup--li-code">b=true</code> and <code class="markup--code markup--li-code">b=false</code> , we have now decided the value of the variable.</li><li name="ae28" id="ae28" class="graf graf--li graf-after--li">Each <code class="markup--code markup--li-code">-</code> allows us to focus on a single case, <code class="markup--code markup--li-code">reflexivity</code> just checks if two sides of the equality is “definitionally equal”. What definitional equality is a question I will not try to answer here.</li><li name="51cc" id="51cc" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Qed</code> signals Coq that we have finished our proof, and we are ready for proof-checking. If proof-checking goes through, we start to <a href="https://tenor.com/bQ9Ws.gif" data-href="https://tenor.com/bQ9Ws.gif" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">https://tenor.com/bQ9Ws.gif</a>; else, we missed something in the proof.</li></ul><p name="af2d" id="af2d" class="graf graf--p graf-after--li">As you see, there are lots of stuff going on the background, even the simplest example of a proof has to go through some complicated explanations. Yet, Coq is pretty good at abstracting many of these complications, as does all of our other programming systems.</p><p name="0d73" id="0d73" class="graf graf--p graf-after--p">I am thinking of moving on with these series with some follow-up articles. They will be much simplified/cut versions of Software Foundations, designed to mostly intrigue rather than teach. If this piece has attracted your interest in proved programming and Coq, please check the sources I leave below and let me know so I get motivated to write more about this.</p><ul class="postList"><li name="9861" id="9861" class="graf graf--li graf-after--p">Software Foundations: <a href="https://softwarefoundations.cis.upenn.edu/" data-href="https://softwarefoundations.cis.upenn.edu/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">https://softwarefoundations.cis.upenn.edu/</a></li><li name="e762" id="e762" class="graf graf--li graf-after--li">CPDT: <a href="http://adam.chlipala.net/cpdt/" data-href="http://adam.chlipala.net/cpdt/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">http://adam.chlipala.net/cpdt/</a></li><li name="92dc" id="92dc" class="graf graf--li graf-after--li">Coq Website: <a href="https://coq.inria.fr/a-short-introduction-to-coq" data-href="https://coq.inria.fr/a-short-introduction-to-coq" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">https://coq.inria.fr/a-short-introduction-to-coq</a></li><li name="6baa" id="6baa" class="graf graf--li graf-after--li">Turkish Youtube Video by <a href="http://joomy.korkutblech.com" data-href="http://joomy.korkutblech.com" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--li-strong">Joomy</strong></a>: <a href="https://www.youtube.com/watch?v=llQTJuO65Kk" data-href="https://www.youtube.com/watch?v=llQTJuO65Kk" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">https://www.youtube.com/watch?v=llQTJuO65Kk</a></li><li name="6e08" id="6e08" class="graf graf--li graf-after--li">Learn X in Y Minutes: <a href="https://learnxinyminutes.com/docs/coq/" data-href="https://learnxinyminutes.com/docs/coq/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">https://learnxinyminutes.com/docs/coq/</a></li></div><div class="section-inner sectionLayout--outsetRow" data-paragraph-count="2"></ul><figure name="b5f9" id="b5f9" class="graf graf--figure graf--layoutOutsetRow is-partialWidth graf-after--li" style="width: 47.424%;"><img class="graf-image" data-image-id="1*DORzPabprYmsShRUBYN3jA.png" data-width="577" data-height="640" src="https://cdn-images-1.medium.com/max/600/1*DORzPabprYmsShRUBYN3jA.png"></figure><figure name="a276" id="a276" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure graf--trailing" style="width: 52.576%;"><img class="graf-image" data-image-id="1*e5SHfheTSuANvryZ8m6NYg.png" data-width="200" data-height="200" src="https://cdn-images-1.medium.com/max/800/1*e5SHfheTSuANvryZ8m6NYg.png"><figcaption class="imageCaption" style="width: 190.201%; left: -90.201%;">Left(Le coq mécanisé taken from Ilya Sergey’s website, created by <a href="https://www.liliaanisimova.com/" data-href="https://www.liliaanisimova.com/" class="markup--anchor markup--figure-anchor" rel="noopener" target="_blank">https://www.liliaanisimova.com/</a>), Right(Coq logo from Twitter)</figcaption></figure></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@alpkeles99" class="p-author h-card">Alperen Keleş</a> on <a href="https://medium.com/p/e380c9e360b8"><time class="dt-published" datetime="2023-04-21T04:19:48.296Z">April 21, 2023</time></a>.</p><p><a href="https://medium.com/@alpkeles99/learners-guide-to-coq-theorem-prover-1-e380c9e360b8" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on March 27, 2024.</p></footer></article></body></html>